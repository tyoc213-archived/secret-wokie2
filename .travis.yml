language: c
compiler:
  - gcc
#  - clang
before_install:
# http://about.travis-ci.org/docs/user/build-configuration/
  - git submodule update --init --recursive
# http://about.travis-ci.org/docs/user/gui-and-headless-browsers/
  - "export DISPLAY=:99.0"
#### if size start manually not via init script  - "sh -e /etc/init.d/xvfb start"
  - "/sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac -screen 0 800x600x32"
  - git submodule update --init --recursive
  - sleep 3 # give xvfb some time to start
#install: cmake
before_script: cmake .
script: make && test
